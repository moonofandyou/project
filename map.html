
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<link rel="stylesheet" href="./alaj/day1/code/lib/bootstrap.css"></link>
<script src="./jquery-3.5.1/jquery-3.5.1.js"></script>
</head>
<body >
	
	<div class="panel panel-primary form-inline">
		<div class="panel-heading">
			  <h3 class="panel-title">添加新图书></h3>
			  </h3></h3>
		</div>
		<div class="panel-body">
			  
			  <div class="input-group">
				  <div class="input-group-addon">书名</div>
				  <input type="text" class="form-control" id="iptBookname" placeholder="请输入书名">
			  </div>
			  <div class="input-group">
				  <div class="input-group-addon">作者</div>
				  <input type="text" class="form-control" id="iptAuthor" placeholder="请输入作者">
				</div>
			  
			  <div class="input-group">
				  <div class="input-group-addon">出版社</div>
				  <input type="text" class="form-control" id="iptPublisher" placeholder="请输入出版社">
			  </div>
			  <button id="btnAdd" class="btn btn-primary">添加</button>
		</div>
		
	  <!-- 图书的表格 -->
	  
	  <table class="table table-bordered table-hover">
		  <thead>
			  <tr>
				  <th>ID</th>
				  <th>书名</th>
				  <th>作者</th>
				  <th>出版社</th>
				  <th>操作</th>
			  </tr>
		  </thead>
		  <tbody id="tb">
			  
		  </tbody>
	  </table>
	  
		
  </div>
</body>
	<script>
		$(function(){
			function getBooklist(){
				$.get('http://www.liulongbin.top:3006/api/getbooks',function(res){
					if(res.status !== 200) return alert('获取数据失败！')
					var rows = []
					$.each(res.date, function(i, item){
						rows.push('<tr><td>'+item.id+'</td><td>'+item.bookname+'</td><td>'+item.author+'</td><td>'+item.publisher+'</td><td><a href="#" class="del" data-id=" '+item.id+' ">删除</a></td></tr>')
					})
					$('#tb').empty().append(rows.join(''))
				})
			}
			getBooklist()
		})
		
	</script>
</html>









